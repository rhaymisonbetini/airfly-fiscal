(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{X3zk:function(o,t,e){"use strict";e.r(t),e.d(t,"LoginPageModule",(function(){return w}));var r=e("ofXK"),n=e("3Pt+"),i=e("TEn/"),s=e("tyNb"),a=e("fXoL"),l=e("BVJc"),c=e("KB3l"),d=e("mrSG");let u=(()=>{class o{constructor(o,t){this.alertController=o,this.navController=t}erroAlert(o){return Object(d.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"Ops!",message:o,buttons:["OK"]});yield t.present()}))}susscessAlert(o){return Object(d.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({message:o,buttons:["OK"]});yield t.present()}))}successWithRouteAlert(o,t){return Object(d.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({message:o,buttons:[{text:"Ok",handler:()=>{this.navController.navigateRoot(""+t)}}]});yield e.present()}))}}return o.\u0275fac=function(t){return new(t||o)(a.Ob(i.a),a.Ob(i.v))},o.\u0275prov=a.Db({token:o,factory:o.\u0275fac}),o})();var g=e("tk/3"),p=e("jOSP");let b=(()=>{class o{constructor(o,t){this.http=o,this.api=t}login(o){return this.http.post(this.api.url+"login-fiscal",o)}}return o.\u0275fac=function(t){return new(t||o)(a.Ob(g.a),a.Ob(p.a))},o.\u0275prov=a.Db({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),m=(()=>{class o{constructor(){this.texto=""}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=a.Bb({type:o,selectors:[["app-message-erro-validacao"]],inputs:{texto:"texto"},decls:2,vars:1,consts:[[1,"alert"]],template:function(o,t){1&o&&(a.Kb(0,"div",0),a.dc(1),a.Jb()),2&o&&(a.xb(1),a.fc(" ",t.texto,"\n"))},styles:[".alert[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;font-weight:700!important;padding-bottom:10px;text-align:center}"]}),o})();function h(o,t){1&o&&(a.Kb(0,"app-message-erro-validacao",9),a.dc(1," > "),a.Jb())}function f(o,t){1&o&&(a.Kb(0,"app-message-erro-validacao",10),a.dc(1," > "),a.Jb())}const v=[{path:"",component:(()=>{class o{constructor(o,t,e,r,n,i){this.navController=o,this.formBuilder=t,this.loadingProvider=e,this.toastProvider=r,this.alertProvider=n,this.authService=i}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[n.j.required,n.j.email]],password:["",n.j.required]})}login(){this.loadingProvider.loadingPresent("Efetuando o login..."),this.authService.login(this.loginForm.getRawValue()).subscribe(o=>{this.loadingProvider.loadingDismiss(),o.user&&o.token&&(sessionStorage.setItem("name",o.user.username),sessionStorage.setItem("email",o.user.email),sessionStorage.setItem("photo",o.user.photo),sessionStorage.setItem("id",o.user.id),sessionStorage.setItem("token",o.token),this.navController.navigateRoot(""))},o=>{this.loadingProvider.loadingDismiss(),401==o.status&&this.toastProvider.erroToast("Usu\xe1rio n\xe3o autorizado!"),500==o.status&&(this.toastProvider.erroToast("Ops! Um erro inesperado aconteceu."),console.log(o))})}}return o.\u0275fac=function(t){return new(t||o)(a.Hb(i.v),a.Hb(n.a),a.Hb(l.a),a.Hb(c.a),a.Hb(u),a.Hb(b))},o.\u0275cmp=a.Bb({type:o,selectors:[["app-login"]],decls:13,vars:4,consts:[["id","login"],["action","",3,"formGroup"],["placeholder","E-mail","type","email","formControlName","email"],["texto","O E-mail de usu\xe1rio \xe9 obrigat\xf3rio",4,"ngIf"],["placeholder","Senha","type","password","formControlName","password"],["texto","A senha \xe9 usu\xe1rio \xe9 obrigat\xf3ria",4,"ngIf"],["color","primary","expand","full",3,"disabled","click"],["id","logo"],["src","../../assets/img/logo.png","alt",""],["texto","O E-mail de usu\xe1rio \xe9 obrigat\xf3rio"],["texto","A senha \xe9 usu\xe1rio \xe9 obrigat\xf3ria"]],template:function(o,t){1&o&&(a.Kb(0,"ion-content"),a.Kb(1,"div",0),a.Kb(2,"form",1),a.Kb(3,"ion-item"),a.Ib(4,"ion-input",2),a.Jb(),a.cc(5,h,2,0,"app-message-erro-validacao",3),a.Kb(6,"ion-item"),a.Ib(7,"ion-input",4),a.Jb(),a.cc(8,f,2,0,"app-message-erro-validacao",5),a.Kb(9,"ion-button",6),a.Sb("click",(function(){return t.login()})),a.dc(10,"Login"),a.Jb(),a.Jb(),a.Jb(),a.Kb(11,"div",7),a.Ib(12,"img",8),a.Jb(),a.Jb()),2&o&&(a.xb(2),a.Xb("formGroup",t.loginForm),a.xb(3),a.Xb("ngIf",(null==t.loginForm.controls.email.errors?null:t.loginForm.controls.email.errors.required)&&(t.loginForm.controls.email.dirty||t.loginForm.controls.email.touched)),a.xb(3),a.Xb("ngIf",(null==t.loginForm.controls.password.errors?null:t.loginForm.controls.password.errors.required)&&(t.loginForm.controls.password.dirty||t.loginForm.controls.password.touched)),a.xb(1),a.Xb("disabled",t.loginForm.invalid))},directives:[i.e,n.k,n.h,n.c,i.j,i.i,i.x,n.g,n.b,r.h,i.c,m],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-dark)}#login[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:50%;border-bottom-left-radius:55px;border-bottom-right-radius:55px;background-color:#fff;padding-right:10px;padding-left:10px}#login[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%!important;margin-top:25px}#logo[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;flex-direction:column;justify-content:center;align-items:center}#logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%}"]}),o})()}];let x=(()=>{class o{}return o.\u0275mod=a.Fb({type:o}),o.\u0275inj=a.Eb({factory:function(t){return new(t||o)},imports:[[s.i.forChild(v)],s.i]}),o})(),y=(()=>{class o{}return o.\u0275mod=a.Fb({type:o}),o.\u0275inj=a.Eb({factory:function(t){return new(t||o)},imports:[[r.b]]}),o})(),w=(()=>{class o{}return o.\u0275mod=a.Fb({type:o}),o.\u0275inj=a.Eb({factory:function(t){return new(t||o)},providers:[l.a,c.a,u],imports:[[r.b,n.d,i.s,x,n.i,y]]}),o})()}}]);