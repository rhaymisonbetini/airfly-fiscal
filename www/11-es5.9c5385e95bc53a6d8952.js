!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{X3zk:function(e,n,r){"use strict";r.r(n),r.d(n,"LoginPageModule",(function(){return J}));var i,a,s,c=r("ofXK"),l=r("3Pt+"),u=r("TEn/"),d=r("tyNb"),g=r("fXoL"),p=r("BVJc"),f=r("KB3l"),m=r("mrSG"),b=((i=function(){function e(o,n){t(this,e),this.alertController=o,this.navController=n}return o(e,[{key:"erroAlert",value:function(t){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Ops!",message:t,buttons:["OK"]});case 2:return o=e.sent,e.next=5,o.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"susscessAlert",value:function(t){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({message:t,buttons:["OK"]});case 2:return o=e.sent,e.next=5,o.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"successWithRouteAlert",value:function(t,e){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var n,r=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.alertController.create({message:t,buttons:[{text:"Ok",handler:function(){r.navController.navigateRoot(""+e)}}]});case 2:return n=o.sent,o.next=5,n.present();case 5:case"end":return o.stop()}}),o,this)})))}}]),e}()).\u0275fac=function(t){return new(t||i)(g.Ob(u.a),g.Ob(u.v))},i.\u0275prov=g.Db({token:i,factory:i.\u0275fac}),i),h=r("tk/3"),v=r("jOSP"),x=((s=function(){function e(o,n){t(this,e),this.http=o,this.api=n}return o(e,[{key:"login",value:function(t){return this.http.post(this.api.url+"login-fiscal",t)}}]),e}()).\u0275fac=function(t){return new(t||s)(g.Ob(h.a),g.Ob(v.a))},s.\u0275prov=g.Db({token:s,factory:s.\u0275fac,providedIn:"root"}),s),w=((a=function(){function e(){t(this,e),this.texto=""}return o(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=g.Bb({type:a,selectors:[["app-message-erro-validacao"]],inputs:{texto:"texto"},decls:2,vars:1,consts:[[1,"alert"]],template:function(t,e){1&t&&(g.Kb(0,"div",0),g.dc(1),g.Jb()),2&t&&(g.xb(1),g.fc(" ",e.texto,"\n"))},styles:[".alert[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;font-weight:700!important;padding-bottom:10px;text-align:center}"]}),a);function y(t,e){1&t&&(g.Kb(0,"app-message-erro-validacao",9),g.dc(1," > "),g.Jb())}function k(t,e){1&t&&(g.Kb(0,"app-message-erro-validacao",10),g.dc(1," > "),g.Jb())}var O,P,C,F,I=[{path:"",component:(O=function(){function e(o,n,r,i,a,s){t(this,e),this.navController=o,this.formBuilder=n,this.loadingProvider=r,this.toastProvider=i,this.alertProvider=a,this.authService=s}return o(e,[{key:"ngOnInit",value:function(){this.loginForm=this.formBuilder.group({email:["",[l.j.required,l.j.email]],password:["",l.j.required]})}},{key:"login",value:function(){var t=this;this.loadingProvider.loadingPresent("Efetuando o login..."),this.authService.login(this.loginForm.getRawValue()).subscribe((function(e){t.loadingProvider.loadingDismiss(),e.user&&e.token&&(sessionStorage.setItem("name",e.user.username),sessionStorage.setItem("email",e.user.email),sessionStorage.setItem("photo",e.user.photo),sessionStorage.setItem("id",e.user.id),sessionStorage.setItem("token",e.token),t.navController.navigateRoot(""))}),(function(e){t.loadingProvider.loadingDismiss(),401==e.status&&t.toastProvider.erroToast("Usu\xe1rio n\xe3o autorizado!"),500==e.status&&(t.toastProvider.erroToast("Ops! Um erro inesperado aconteceu."),console.log(e))}))}}]),e}(),O.\u0275fac=function(t){return new(t||O)(g.Hb(u.v),g.Hb(l.a),g.Hb(p.a),g.Hb(f.a),g.Hb(b),g.Hb(x))},O.\u0275cmp=g.Bb({type:O,selectors:[["app-login"]],decls:13,vars:4,consts:[["id","login"],["action","",3,"formGroup"],["placeholder","E-mail","type","email","formControlName","email"],["texto","O E-mail de usu\xe1rio \xe9 obrigat\xf3rio",4,"ngIf"],["placeholder","Senha","type","password","formControlName","password"],["texto","A senha \xe9 usu\xe1rio \xe9 obrigat\xf3ria",4,"ngIf"],["color","primary","expand","full",3,"disabled","click"],["id","logo"],["src","../../assets/img/logo.png","alt",""],["texto","O E-mail de usu\xe1rio \xe9 obrigat\xf3rio"],["texto","A senha \xe9 usu\xe1rio \xe9 obrigat\xf3ria"]],template:function(t,e){1&t&&(g.Kb(0,"ion-content"),g.Kb(1,"div",0),g.Kb(2,"form",1),g.Kb(3,"ion-item"),g.Ib(4,"ion-input",2),g.Jb(),g.cc(5,y,2,0,"app-message-erro-validacao",3),g.Kb(6,"ion-item"),g.Ib(7,"ion-input",4),g.Jb(),g.cc(8,k,2,0,"app-message-erro-validacao",5),g.Kb(9,"ion-button",6),g.Sb("click",(function(){return e.login()})),g.dc(10,"Login"),g.Jb(),g.Jb(),g.Jb(),g.Kb(11,"div",7),g.Ib(12,"img",8),g.Jb(),g.Jb()),2&t&&(g.xb(2),g.Xb("formGroup",e.loginForm),g.xb(3),g.Xb("ngIf",(null==e.loginForm.controls.email.errors?null:e.loginForm.controls.email.errors.required)&&(e.loginForm.controls.email.dirty||e.loginForm.controls.email.touched)),g.xb(3),g.Xb("ngIf",(null==e.loginForm.controls.password.errors?null:e.loginForm.controls.password.errors.required)&&(e.loginForm.controls.password.dirty||e.loginForm.controls.password.touched)),g.xb(1),g.Xb("disabled",e.loginForm.invalid))},directives:[u.e,l.k,l.h,l.c,u.j,u.i,u.x,l.g,l.b,c.h,u.c,w],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-dark)}#login[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:50%;border-bottom-left-radius:55px;border-bottom-right-radius:55px;background-color:#fff;padding-right:10px;padding-left:10px}#login[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%!important;margin-top:25px}#logo[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;flex-direction:column;justify-content:center;align-items:center}#logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%}"]}),O)}],j=((F=function e(){t(this,e)}).\u0275mod=g.Fb({type:F}),F.\u0275inj=g.Eb({factory:function(t){return new(t||F)},imports:[[d.i.forChild(I)],d.i]}),F),K=((C=function e(){t(this,e)}).\u0275mod=g.Fb({type:C}),C.\u0275inj=g.Eb({factory:function(t){return new(t||C)},imports:[[c.b]]}),C),J=((P=function e(){t(this,e)}).\u0275mod=g.Fb({type:P}),P.\u0275inj=g.Eb({factory:function(t){return new(t||P)},providers:[p.a,f.a,b],imports:[[c.b,l.d,u.s,j,l.i,K]]}),P)}}])}();